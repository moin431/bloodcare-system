<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
  <title>My Profile | BloodCare</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/style.css" rel="stylesheet">
</head>
<body>

<div class="dashboard d-flex">

  <!-- SIDEBAR -->
  <div class="sidebar p-4">
    <a class="navbar-brand d-flex align-items-center mb-4">
      <img src="https://www.octapharmaplasma.com/wp-content/uploads/2025/03/Plasma-vs-platelets-1.png" class="rounded" width="45">
      <span class="ms-2 fw-bold text-danger logo-text">BloodCare</span>
    </a>

    <a href="/donor/dashboard">Dashboard</a>
    <a class="active">My Profile</a>
    <a href="/donor/donate-history">Donate History</a>
    <a href="/donor/availability">Availability Status</a>

    <a href="/logout" class="mt-4 text-white border white">Logout</a>
  </div>

  <!-- MAIN -->
  <div class="flex-grow-1 p-5">

    <h3 class="fw-bold mb-4">My Profile</h3>

    <!-- SUCCESS -->
    <div th:if="${param.updated}" class="alert alert-success w-50">
      Profile updated successfully ðŸŽ‰
    </div>

    <!-- PROFILE CARD -->
    <div class="profile-card shadow-lg p-4 rounded-4 bg-white" style="max-width:650px">

      <!-- BADGE AREA -->
      <div class="d-flex justify-content-between align-items-center mb-4">

        <div>
          <h5 class="fw-bold mb-1" th:text="${user.name}"></h5>
          <small class="text-muted">Donor Level</small>
        </div>

        <div>
                    <span class="badge bg-warning text-dark fs-6 px-3 py-2"
                          th:if="${user.badge == 'BRONZE'}">ðŸ¥‰ Bronze Donor</span>

          <span class="badge bg-secondary fs-6 px-3 py-2"
                th:if="${user.badge == 'SILVER'}">ðŸ¥ˆ Silver Donor</span>

          <span class="badge bg-success fs-6 px-3 py-2"
                th:if="${user.badge == 'GOLD'}">ðŸ¥‡ Gold Donor</span>
        </div>

      </div>

      <!-- FORM -->
      <form th:action="@{/donor/profile/update}" method="post" th:object="${user}">

        <div class="mb-3">
          <label class="fw-semibold">Full Name</label>
          <input class="form-control" th:field="*{name}">
        </div>

        <div class="mb-3">
          <label class="fw-semibold">Email</label>
          <input class="form-control" th:field="*{email}" readonly>
        </div>

        <div class="mb-3">
          <label class="fw-semibold">Phone</label>
          <input class="form-control" th:field="*{phoneNumber}">
        </div>

        <div class="mb-3">
          <label class="fw-semibold">Blood Group</label>
          <select class="form-control" th:field="*{bloodGroup}">
            <option th:value="OPOS">O+</option><option th:value="APOS">A+</option><option th:value="BPOS">B+</option><option th:value="ABPOS">AB+</option>
            <option th:value="ONEG">O-</option><option th:value="ANEG">A-</option><option th:value="BNEG">B-</option><option th:value="ABNEG">AB-</option>
          </select>
        </div>

        <button class="btn btn-main px-4 mt-2">
          Update Profile
        </button>

      </form>

    </div>

  </div>

</div>
</body>
</html>
